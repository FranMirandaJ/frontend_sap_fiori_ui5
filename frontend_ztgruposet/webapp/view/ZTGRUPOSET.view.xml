<mvc:View
  controllerName="com.itt.ztgruposet.frontendztgruposet.controller.ZTGRUPOSET"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:core="sap.ui.core"
  xmlns="sap.m"
  xmlns:tnt="sap.tnt"
  xmlns:p="sap.m.plugins"
  xmlns:f="sap.ui.layout.form"
  height="100%">

  <Page id="page" title="{i18n>title}" >
    <content>
      <FlexBox id="layoutFlexBox" height="100%" width="100%" renderType="Bare">
        <items>

          <!-- MenÃº lateral -->
          <VBox id="vBoxSideNav" renderType="Bare" alignItems="Start">
            <tnt:SideNavigation id="sideNavigation" selectedKey="walked"
                                expanded="false" itemSelect="onSideNavItemSelect">
              <tnt:NavigationList id="navigationList1">
                <tnt:NavigationListItem id="menuCollapseExpandButton" text=""
                                        icon="sap-icon://menu2" press=".onCollapseExpandPress"/>
                <tnt:NavigationListItem id="homeButton" text="Home" icon="sap-icon://home"/>
              </tnt:NavigationList>

              <tnt:fixedItem>
                <tnt:NavigationList id="navigationListDB">
                  <tnt:NavigationListItem text="Database server" icon="sap-icon://database" selectable="false">
                    <tnt:NavigationListItem text="MongoDB"/>
                    <tnt:NavigationListItem text="Azure Cosmos"/>
                  </tnt:NavigationListItem>
                </tnt:NavigationList>
              </tnt:fixedItem>
            </tnt:SideNavigation>
          </VBox>

          <!-- Contenido principal -->
          <VBox id="VBoxContent" width="100%" class="sapUiSmallMargin">
            <Title id="titlePage" text="Grupos y subgrupos de SKU" titleStyle="H2"/>

            <FlexBox height="50px" alignItems="Center" justifyContent="SpaceBetween"
                     width="100%" class="sapUiSmallMarginTopBottom">
              <!-- Botones -->
              <HBox id="buttonsArea" class="sapUiSmallMarginBeginEnd">
                <Button id="btnCreate" type="Accept" text="Crear" press="onCreatePress"
                        class="sapUiTinyMarginEnd" icon="sap-icon://add"/>
                <Button id="btnEdit" text="Editar" press="onEditPress"
                        class="sapUiTinyMarginEnd" icon="sap-icon://edit"/>
                <Button id="btnDelete" type="Reject" text="Eliminar" press="onDeletePress"
                        class="sapUiTinyMarginEnd" icon="sap-icon://delete"/>
                <Button id="btnDeactivate" type="Critical" text="Desactivar" press="onDeactivePress"
                        class="sapUiTinyMarginEnd" icon="sap-icon://hide"/>
                <Button id="btnActivate" type="Accept" text="Activar" press="onActivePress"
                        class="sapUiTinyMarginEnd" icon="sap-icon://show"/>
                <Button id="btnRefresh" text="Refrescar" press="onRefreshPress" class="sapUiTinyMarginBegin" icon="sap-icon://refresh"/>
              </HBox>

              <!-- Buscador -->
              <SearchField width="300px" class="sapUiSmallMargin"
                           search="onSearchPress" liveChange="onSearchPress"/>
            </FlexBox>

            <!-- TABLA -->
            <Table id="tblGrupos" inset="false" growing="true" growingScrollToLoad="true" items="{grupos>/items}"  mode="SingleSelectMaster" includeItemInSelection="true" selectionChange=".onSelectionChange" >
              <columns>
                <Column width="12em"><Text text="Sociedad"/></Column>
                <Column minScreenWidth="Tablet" demandPopin="true"><Text text="Sucursal (CEDIS)"/></Column>
                <Column minScreenWidth="Desktop" demandPopin="true"><Text text="Etiqueta"/></Column>
                <Column minScreenWidth="Desktop" demandPopin="true" hAlign="Center"><Text text="Estado"/></Column>
              </columns>

              <items>
                <ColumnListItem vAlign="Middle" type="Active" press=".onRowPress">
                  <cells>
                    <Text text="{grupos>IDSOCIEDAD}"/>
                    <Text text="{grupos>IDCEDI}"/>
                    <Text text="{grupos>IDETIQUETA}"/>
                    <ObjectStatus text="{grupos>EstadoTxt}" state="{grupos>EstadoUI5}"/>
                  </cells>
                </ColumnListItem>
              </items>

              <!-- Mensaje sin datos -->
              <noData>
                <IllustratedMessage
                  id="noDataIllustration"
                  illustrationType="sapIllus-NoData"
                  title="No hay datos disponibles"
                  description="No se encontraron grupos. Crea uno nuevo para comenzar."/>
              </noData>
            </Table>

          </VBox>
        </items>
      </FlexBox>
    </content>
    
  </Page>
</mvc:View>
